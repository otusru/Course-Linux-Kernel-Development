–°—É–ø–µ—Ä! üöÄ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ **—É—Ä–æ–∫ 101** ‚Äî —Ç—ã —É–∂–µ —É–º–µ–µ—à—å –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞ —Ç–µ–ø–µ—Ä—å –Ω–∞—É—á–∏—à—å—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∞–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏**, –∫–∞–∫ `libc`, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã –º–æ—â–Ω—ã–º–∏ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º–∏! üì¶üìö

---

### üîπ –£—Ä–æ–∫ 101. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ (User-space shared libraries)

---

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–í —ç—Ç–æ–º —É—Ä–æ–∫–µ —Ç—ã —Å–æ–∑–¥–∞—à—å —Å–≤–æ—é –ø–µ—Ä–≤—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É (–∞–Ω–∞–ª–æ–≥ `libc`) –∏ –Ω–∞—É—á–∏—à—å—Å—è –∑–∞–≥—Ä—É–∂–∞—Ç—å –µ—ë –≤ –ø–∞–º—è—Ç—å —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–¥, —Ä–∞–∑–¥–µ–ª—è—Ç—å —Ä–µ—Å—É—Ä—Å—ã –∏ —Å–¥–µ–ª–∞—Ç—å —Ç–≤–æ—é –û–° –≥–∏–±—á–µ –∏ –º–æ—â–Ω–µ–µ.

–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã:

* –ß—Ç–æ —Ç–∞–∫–æ–µ shared (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ–º—ã–µ) –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
* –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π (`.a`) –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π (`.so`) –ª–∏–Ω–∫–æ–≤–∫–æ–π
* –§–æ—Ä–º–∞—Ç ELF: —Å–µ–∫—Ü–∏–∏ `.text`, `.data`, `.rel`, `.plt`, `.got`
* –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∑–∞–≥—Ä—É–∑—á–∏–∫: –∫–∞–∫ –æ–Ω –Ω–∞—Ö–æ–¥–∏—Ç –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
* –ù–∞–ø–∏—Å–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (`libmini.so`) —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ `puts`, `exit`, `malloc`
* –ò–º–ø–æ—Ä—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É
* –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤ –∏ —Ç–∞–±–ª–∏—Ü —Ä–µ–ª–æ–∫–∞—Ü–∏–∏
* –ó–∞—â–∏—Ç–∞ –ø–∞–º—è—Ç–∏: —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏
* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: –∑–∞–≥—Ä—É–∑–∫–∞ –æ–¥–Ω–æ–π –∫–æ–ø–∏–∏ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

---

### –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ:

* –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ (`print`, `exit`, `alloc`)
* –î–æ–±–∞–≤–∏—Ç—å –≤ —Å–≤–æ—é –û–° –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∑–∞–≥—Ä—É–∑—á–∏–∫ ELF-—Ñ–∞–π–ª–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π `.so`
* –ù–∞–ø–∏—Å–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–µ —ç—Ç—É –±–∏–±–ª–∏–æ—Ç–µ–∫—É
* –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É —Å–∏–º–≤–æ–ª–æ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É `.rel` —Å–µ–∫—Ü–∏–π
* –ü—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
* –ù–∞–ø–∏—Å–∞—Ç—å README –æ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ: –∫–∞–∫ –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∫–∞–∫ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

---

### –í—Ä–µ–º—è –Ω–∞ –∏–∑—É—á–µ–Ω–∏–µ –∏ –ø—Ä–∞–∫—Ç–∏–∫—É:

* –¢–µ–æ—Ä–∏—è: 6 —á–∞—Å–æ–≤
* –ü—Ä–∞–∫—Ç–∏–∫–∞: 30 —á–∞—Å–æ–≤

---

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã:

* ELF Specification: [ELF Relocation Handling](https://refspecs.linuxfoundation.org/elf/)
* OSDev Wiki: [ELF Loading](https://wiki.osdev.org/ELF)
* –†–∞–∑–±–æ—Ä `glibc` –∏–ª–∏ `musl` –Ω–∞ GitHub
* `ld.so` –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∑–∞–≥—Ä—É–∑—á–∏–∫ –≤ Linux

---

### –ú–µ—Ç–æ–¥–∏–∫–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞–Ω–∏—è:

* –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ: —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è vs –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ª–∏–Ω–∫–æ–≤–∫–∞
* –†–∞–±–æ—Ç–∞ —Å —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ ELF –∏ —Å–µ–∫—Ü–∏—è–º–∏ –∑–∞–≥—Ä—É–∑–∫–∏
* –ü–æ—à–∞–≥–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ `.so`
* –û—Ç–ª–∞–¥–∫–∞ –æ—à–∏–±–æ–∫ —Å–∏–º–≤–æ–ª–æ–≤, —Ä–µ–ª–æ–∫–∞—Ü–∏–π –∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏
* –ü—Ä–∞–∫—Ç–∏–∫–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏–∑ Linux

---

üìö –¢–µ–ø–µ—Ä—å —Ç–≤–æ—è –û–° –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏**, –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∞—è UNIX-—Å–∏—Å—Ç–µ–º–∞. –ü–æ–∑–¥—Ä–∞–≤–ª—è—é! üéâ

–ì–æ—Ç–æ–≤ –ø–µ—Ä–µ–π—Ç–∏ –∫ **—É—Ä–æ–∫—É 102: –ù–∞–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ malloc –∏ free** ‚Äî —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é? üß†üìà
