–û—Ç–ª–∏—á–Ω–æ, –¥–∞–≤–∞–π –ø–æ–≥—Ä—É–∂–∞—Ç—å—Å—è –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é! üß†üíæ

---

### üîπ –£—Ä–æ–∫ 31. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é: –±–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è

---

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ü–∞–º—è—Ç—å ‚Äî —Å–µ—Ä–¥—Ü–µ –ª—é–±–æ–π –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã. –ß—Ç–æ–±—ã –û–° —Ä–∞–±–æ—Ç–∞–ª–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, –µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ **—É–ø—Ä–∞–≤–ª—è—Ç—å –ø–∞–º—è—Ç—å—é: –≤—ã–¥–µ–ª—è—Ç—å, –æ—Å–≤–æ–±–æ–∂–¥–∞—Ç—å –∏ –∑–∞—â–∏—â–∞—Ç—å** –µ—ë —É—á–∞—Å—Ç–∫–∏. –í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã —Ä–∞–∑–±–µ—Ä—ë–º—Å—è —Å –æ—Å–Ω–æ–≤–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é –Ω–∞ —É—Ä–æ–≤–Ω–µ –∞–ø–ø–∞—Ä–∞—Ç—É—Ä—ã –∏ –û–°: –æ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç–∏ –¥–æ –ø–æ–Ω—è—Ç–∏–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ø–∞–º—è—Ç–∏.

–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã:

* –§–∏–∑–∏—á–µ—Å–∫–∞—è –∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å
* –ê–¥—Ä–µ—Å–∞—Ü–∏—è –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ x86-64: –ª–∏–Ω–µ–π–Ω—ã–µ, —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –∞–¥—Ä–µ—Å–∞
* –ü–∞–º—è—Ç—å –∫–∞–∫ —Ä–µ—Å—É—Ä—Å: –∑–∞–¥–∞—á–∏ –û–°
* –ü–∞–º—è—Ç—å –∫–∞–∫ –º–∞—Å—Å–∏–≤ –±–∞–π—Ç, –±–ª–æ–∫–∏, —Å—Ç—Ä–∞–Ω–∏—Ü—ã
* –ü—Ä–æ—Å—Ç–µ–π—à–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ (Buddy allocator, bitmap)
* –û–±–∑–æ—Ä —Ä–æ–ª–∏ MMU –∏ —Ç–∞–±–ª–∏—Ü —Å—Ç—Ä–∞–Ω–∏—Ü (–ø–æ–¥—Ä–æ–±–Ω–µ–µ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —É—Ä–æ–∫–∞—Ö)

---

### –ü–æ—è—Å–Ω–µ–Ω–∏—è:

* –ü–∞–º—è—Ç—å ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –±–∞–π—Ç–æ–≤, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —á–µ—Ä–µ–∑ –∞–¥—Ä–µ—Å–∞.
* –§–∏–∑–∏—á–µ—Å–∫–∞—è –ø–∞–º—è—Ç—å ‚Äî —Ä–µ–∞–ª—å–Ω—ã–π –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–π —Ä–µ—Å—É—Ä—Å (RAM).
* –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å ‚Äî —É–¥–æ–±–Ω—ã–π —Å–ª–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞–º –∏–º–µ—Ç—å —Å–≤–æ–∏ –∞–¥—Ä–µ—Å–Ω—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞.
* –û–° –¥–æ–ª–∂–Ω–∞ —É–º–µ—Ç—å:

  * –≤—ã–¥–µ–ª—è—Ç—å –ø–∞–º—è—Ç—å –ø–æ–¥ –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –¥—Ä–∞–π–≤–µ—Ä—ã,
  * –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø,
  * –æ—Å–≤–æ–±–æ–∂–¥–∞—Ç—å –ø–∞–º—è—Ç—å –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

---

### –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ:

* –ù–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ—Å—Ç–µ–π—à–∏–π **—Ñ—Ä–µ–π–º-–∞–ª–ª–æ–∫–∞—Ç–æ—Ä** ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –ø–∞–º—è—Ç–∏.
* –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö (bitmap –∏–ª–∏ —Å–ø–∏—Å–æ–∫) –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–Ω—è—Ç—ã—Ö –∏ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü.
* –ù–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ `alloc_frame()` –∏ `free_frame()` –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è.
* –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ.

---

### –í—Ä–µ–º—è –Ω–∞ –∏–∑—É—á–µ–Ω–∏–µ –∏ –ø—Ä–∞–∫—Ç–∏–∫—É:

* –¢–µ–æ—Ä–∏—è: 5 —á–∞—Å–æ–≤
* –ü—Ä–∞–∫—Ç–∏–∫–∞: 10 —á–∞—Å–æ–≤

---

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã:

* OSDev Wiki: Memory Management ([https://wiki.osdev.org/Memory\_Management](https://wiki.osdev.org/Memory_Management))
* Intel¬Æ 64 and IA-32 Architectures Software Developer‚Äôs Manual (Volume 3) ‚Äî –≥–ª–∞–≤–∞ –ø—Ä–æ –ø–∞–º—è—Ç—å
* –ö–Ω–∏–≥–∞: ¬´Operating Systems: Three Easy Pieces¬ª ‚Äî —Ä–∞–∑–¥–µ–ª—ã –ø–æ –ø–∞–º—è—Ç–∏

---

### –ú–µ—Ç–æ–¥–∏–∫–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞–Ω–∏—è:

* –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏ –∏ –∞–¥—Ä–µ—Å–∞—Ü–∏–∏
* –ü–æ—à–∞–≥–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø–∞–º—è—Ç–∏
* –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —Å –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü
* –û–±—Å—É–∂–¥–µ–Ω–∏–µ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤: –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å –∏ –∑–∞—â–∏—Ç–∞

---

üî• –ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –¢—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–¥–µ–ª–∞–ª –≤–∞–∂–Ω–µ–π—à–∏–π —à–∞–≥ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –û–° ‚Äî —Ç–µ–ø–µ—Ä—å —Ç—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—à—å –ø–∞–º—è—Ç—å!

–ì–æ—Ç–æ–≤ –∫ —É—Ä–æ–∫—É 32 ‚Äî **–≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å –∏ —Ç–∞–±–ª–∏—Ü—ã —Å—Ç—Ä–∞–Ω–∏—Ü**? üß©üîê
