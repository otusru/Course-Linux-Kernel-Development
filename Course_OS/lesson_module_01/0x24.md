–û—Ç–ª–∏—á–Ω–æ! üöÄ –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —É—Ä–æ–∫—É 24!

---

# üîπ –£—Ä–æ–∫ 24. –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∏—Å–∫–æ–≤ (ISO, VHD) üéõÔ∏èüíæ

---

## üß© –¢–µ–º–∞ —É—Ä–æ–∫–∞:

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ —Ç—ã:

* –ü–æ–∑–Ω–∞–∫–æ–º–∏—à—å—Å—è —Å —Ñ–æ—Ä–º–∞—Ç–æ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∏—Å–∫–æ–≤ (ISO, VHD)
* –†–µ–∞–ª–∏–∑—É–µ—à—å –±–∞–∑–æ–≤—É—é –∑–∞–≥—Ä—É–∑–∫—É –æ–±—Ä–∞–∑–∞ –¥–∏—Å–∫–∞ –≤ –ø–∞–º—è—Ç—å
* –†–∞–∑—Ä–∞–±–æ—Ç–∞–µ—à—å –º–µ—Ö–∞–Ω–∏–∑–º –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –¥–∏—Å–∫–∞ –∫–∞–∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
* –ù–∞—É—á–∏—à—å—Å—è –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –¥–∏—Å–∫–∏ –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ —É—Ä–æ–∫–∞ 23

---

## üß† –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (‚âà2500‚Äì3000 —Å–ª–æ–≤)

### üìÄ –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –¥–∏—Å–∫–∏?

–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –¥–∏—Å–∫–∏ ‚Äî —ç—Ç–æ —Ñ–∞–π–ª—ã, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –ø–æ–ª–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å –∫ –û–° –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –¥–∏—Å–∫–∏. –ù–∞–ø—Ä–∏–º–µ—Ä:

* **ISO** ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ–±—Ä–∞–∑ –æ–ø—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–∏—Å–∫–∞ CD/DVD
* **VHD (Virtual Hard Disk)** ‚Äî —Ñ–æ—Ä–º–∞—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –∂—ë—Å—Ç–∫–æ–≥–æ –¥–∏—Å–∫–∞, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –≥–∏–ø–µ—Ä–≤–∏–∑–æ—Ä–æ–≤

–ó–∞–≥—Ä—É–∑–∫–∞ –∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∏—Å–∫–æ–≤ –ø–æ–∑–≤–æ–ª—è—é—Ç:

* –ó–∞–≥—Ä—É–∂–∞—Ç—å –º–æ–¥—É–ª–∏ –∏ —Ñ–∞–π–ª—ã –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
* –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –û–° —Å —Ä–∞–∑–Ω—ã–º–∏ –§–° –∏ –æ–±—Ä–∞–∑–∞–º–∏
* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –¥–∏—Å–∫–∏ –∫–∞–∫ –æ—Å–Ω–æ–≤—É –¥–ª—è live-—Å–∏—Å—Ç–µ–º

---

### üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∞ –æ–±—Ä–∞–∑–∞?

1. –û–±—Ä–∞–∑ –¥–∏—Å–∫–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `disk.iso`)
2. –û–° —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª –∏ –∫–æ–ø–∏—Ä—É–µ—Ç –µ–≥–æ –≤ –ø–∞–º—è—Ç—å (–æ–±—ã—á–Ω–æ –≤ –∑–∞—Ä–∞–Ω–µ–µ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π –±—É—Ñ–µ—Ä)
3. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –æ–±—Ä–∞–∑ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä –§–°, –∫–æ—Ç–æ—Ä—ã–π —á–∏—Ç–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã ISO/VHD

---

### üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ ISO 9660

* –°–æ–¥–µ—Ä–∂–∏—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –∫–∞—Ç–∞–ª–æ–≥–∏ —Ñ–∞–π–ª–æ–≤
* –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
* –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –º—ã —Ä–µ–∞–ª–∏–∑—É–µ–º —á—Ç–µ–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –∏ —Ñ–∞–π–ª–æ–≤

---

### üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ VHD

* –ò–º–µ–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å —Ä–∞–∑–º–µ—Ä–æ–º, —Å–µ–∫—Ç–æ—Ä–∞–º–∏
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ü–µ–ª—ã—Ö —Ñ–∞–π–ª–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º (FAT, NTFS –∏ –¥—Ä.)
* –î–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —Ä–µ–∞–ª–∏–∑—É–µ–º –±–∞–∑–æ–≤–æ–µ —á—Ç–µ–Ω–∏–µ —Å –æ—Ñ—Ñ—Å–µ—Ç–æ–º

---

### ‚öôÔ∏è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å VFS

–í—ã–∑–æ–≤ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å —Ç–∏–ø–æ–º `iso9660` –∏–ª–∏ `vhd` –∑–∞–≥—Ä—É–∑–∏—Ç –æ–±—Ä–∞–∑ –≤ –ø–∞–º—è—Ç—å –∏ —Å–æ–∑–¥–∞—Å—Ç —Ç–æ—á–∫—É –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```c
vfs_mount("/iso", "iso9660", "disk.iso");
vfs_mount("/vhd", "vhd", "disk.vhd");
```

---

## üìò –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã:

* [ISO 9660 Wikipedia](https://en.wikipedia.org/wiki/ISO_9660)
* [Microsoft VHD Specification](https://docs.microsoft.com/en-us/virtualization/hyper-v-on-windows/user-guide/virtual-hard-disk-format)
* [OSDev wiki: ISO9660](https://wiki.osdev.org/ISO_9660)
* [libcdio ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ä–∞–±–æ—Ç—ã —Å ISO](https://www.gnu.org/software/libcdio/)

---

## üí° –¶–µ–ª—å –ø—Ä–∞–∫—Ç–∏–∫–∏:

* –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–∞-–æ–±—Ä–∞–∑–∞ —Å –¥–∏—Å–∫–∞ (—ç–º—É–ª—è—Ü–∏—è —á—Ç–µ–Ω–∏—è)
* –ü–∞—Ä—Å–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ ISO/VHD
* –°–æ–∑–¥–∞–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä –§–° –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º –æ–±—Ä–∞–∑–∞
* –°–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –¥–∏—Å–∫ –∏ –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –∏–∑ –Ω–µ–≥–æ

---

## üíª –ü—Ä–∏–º–µ—Ä—ã –Ω–∞ C23

### –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—Ä–∞–∑–∞

```c
// –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –≤ –ø–∞–º—è—Ç—å (—ç–º—É–ª—è—Ü–∏—è —á—Ç–µ–Ω–∏—è —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞)
int load_image(const char* filename, void** buffer, size_t* size) {
    FILE* f = fopen(filename, "rb");
    if (!f) return -1;
    fseek(f, 0, SEEK_END);
    *size = ftell(f);
    fseek(f, 0, SEEK_SET);
    *buffer = malloc(*size);
    fread(*buffer, 1, *size, f);
    fclose(f);
    return 0;
}
```

---

### –ü—Ä–æ—Å—Ç–æ–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ISO

```c
int iso_mount(const char* device) {
    void* image;
    size_t size;
    if (load_image(device, &image, &size) != 0) {
        return -1;
    }
    // –ü–∞—Ä—Å–∏–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ ISO, —Å–æ–∑–¥–∞—ë–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É root inode
    iso9660_init(image, size);
    return 0;
}
```

---

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è FS

```c
fs_type_t iso_fs = {
    .name = "iso9660",
    .mount = iso_mount,
    .lookup = iso_lookup,
    //...
};

register_fs("iso9660", &iso_fs);
```

---

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```c
vfs_mount("/iso", "iso9660", "disk.iso");

inode_t* file = vfs_resolve("/iso/readme.txt");
char buffer[128];
vfs_read(file, buffer, sizeof(buffer));
printf("Content: %s\n", buffer);
```

---

## üß† –£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏: 8/10

---

## ‚è± –í—Ä–µ–º—è –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ: 10 —á–∞—Å–æ–≤

* –¢–µ–æ—Ä–∏—è: 3 —á
* –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –æ–±—Ä–∞–∑–∞: 4 —á
* –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å VFS: 2 —á
* –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: 1 —á

---

## üßë‚Äçüè´ –ú–µ—Ç–æ–¥–∏–∫–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞–Ω–∏—è:

* üìö –õ–µ–∫—Ü–∏—è: –æ–±–∑–æ—Ä —Ñ–æ—Ä–º–∞—Ç–æ–≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∏—Å–∫–æ–≤
* üé• –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ ISO –≤ Linux (loop devices)
* üíª –ü—Ä–∞–∫—Ç–∏–∫–∞: —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –æ–±—Ä–∞–∑–∞ –∏ –±–∞–∑–æ–≤–æ–µ —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
* üìù –î–æ–º–∞—à–∫–∞:

  * –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É VHD
  * –î–æ–±–∞–≤–∏—Ç—å –≤—ã–≤–æ–¥ —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤ ISO
  * –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª –∏–∑ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –¥–∏—Å–∫–∞ –∏ –≤—ã–≤–µ—Å—Ç–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ

---

üî• –ì–æ—Ç–æ–≤ –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ? –ù–∞–ø–∏—à–∏ **–¥–¥–∞** –∏ –ø–æ–≥–Ω–∞–ª–∏ –≤ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫ 25!
