–û—Ç–ª–∏—á–Ω–æ, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º! üöÄ

---

# üîπ –£—Ä–æ–∫ 12. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é: –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å –∏ —Å—Ç—Ä–∞–Ω–∏—á–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è üß†üíæ

---

## üß© –¢–µ–º–∞ —É—Ä–æ–∫–∞:

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –ø–æ–≥—Ä—É–∑–∏–º—Å—è –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö x86-64 –û–°. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å, –∑–∞—á–µ–º –Ω—É–∂–Ω—ã —Ç–∞–±–ª–∏—Ü—ã —Å—Ç—Ä–∞–Ω–∏—Ü, –∫–∞–∫–∏–µ —Ä–µ–∂–∏–º—ã –∞–¥—Ä–µ—Å–∞—Ü–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –∏ –∫–∞–∫ –û–° —É–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞—â–∏—Ç–æ–π –ø–∞–º—è—Ç–∏.

---

## üß† –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (‚âà2500‚Äì3000 —Å–ª–æ–≤)

### –ü–æ—á–µ–º—É –Ω—É–∂–Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å?

* –ü–æ–∑–≤–æ–ª—è–µ—Ç –∫–∞–∂–¥–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ –≤–∏–¥–µ—Ç—å —Å–≤–æ—ë –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ –∞–¥—Ä–µ—Å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ.
* –ó–∞—â–∏—â–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø.
* –û–±–ª–µ–≥—á–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é –≤ —Å–∏—Å—Ç–µ–º–µ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏.
* –ü–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º—ã —Å–≤–æ–ø–ø–∏–Ω–≥–∞ ‚Äî –≤—ã–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü –Ω–∞ –¥–∏—Å–∫.

---

### –§–∏–∑–∏—á–µ—Å–∫–∞—è vs –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å

* –§–∏–∑–∏—á–µ—Å–∫–∞—è –ø–∞–º—è—Ç—å ‚Äî —Ä–µ–∞–ª—å–Ω–∞—è RAM.
* –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä —Å –ø–æ–º–æ—â—å—é —Ç–∞–±–ª–∏—Ü —Å—Ç—Ä–∞–Ω–∏—Ü.

---

### –¢–∞–±–ª–∏—Ü—ã —Å—Ç—Ä–∞–Ω–∏—Ü

* –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: PML4, PDPT, PD, PT ‚Äî —É—Ä–æ–≤–Ω–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã –∞–¥—Ä–µ—Å–æ–≤.
* –ö–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–¥—Ä–µ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Ñ–ª–∞–≥–∏ –¥–æ—Å—Ç—É–ø–∞, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è, —É—Ä–æ–≤–Ω—è –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π.
* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ 4–ö, 2–ú –∏ 1–ì —Å—Ç—Ä–∞–Ω–∏—Ü.

---

### –ú–µ—Ö–∞–Ω–∏–∑–º —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏ –∞–¥—Ä–µ—Å–æ–≤

* –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å –≤ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π —Å –ø–æ–º–æ—â—å—é MMU –∏ —Ç–∞–±–ª–∏—Ü —Å—Ç—Ä–∞–Ω–∏—Ü.
* –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∑–∞–ø–∏—Å–∏ ‚Äî –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ page fault.

---

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é –≤ –û–°

* –û–° –≤—ã–¥–µ–ª—è–µ—Ç, –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø–∞–º—è—Ç—å –ø–æ–¥ –ø—Ä–æ—Ü–µ—Å—Å—ã.
* –£–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (—á—Ç–µ–Ω–∏–µ, –∑–∞–ø–∏—Å—å, –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ).
* –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç page faults, —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–≤–æ–ø–ø–∏–Ω–≥.

---

### –ó–∞—â–∏—Ç–∞ –ø–∞–º—è—Ç–∏ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

* NX-bit (No Execute) ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –∏–∑ –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π (DEP).
* ASLR (Address Space Layout Randomization) ‚Äî —Ä–∞–Ω–¥–æ–º–∏–∑–∞—Ü–∏—è —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –æ–±–ª–∞—Å—Ç–µ–π –ø–∞–º—è—Ç–∏ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
* SMEP/SMAP ‚Äî –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –∑–∞—â–∏—Ç—ã.

---

### –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

* –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü —Å—Ç—Ä–∞–Ω–∏—Ü (TLB).
* HugePages ‚Äî –±–æ–ª—å—à–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.

---

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ x86-64

* 48-–±–∏—Ç–Ω–∞—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∞–¥—Ä–µ—Å–∞—Ü–∏—è (Canonical Form).
* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ 5 —É—Ä–æ–≤–Ω–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü –≤ –Ω–æ–≤—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞—Ö.
* –†–∞–±–æ—Ç–∞ —Å UEFI –∏ Secure Boot –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø–∞–º—è—Ç–∏.

---

### –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã (2025)

* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–π –∏–∑–æ–ª—è—Ü–∏–∏ –ø–∞–º—è—Ç–∏ (Intel CET, ARM PAC).
* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ø–∞–º—è—Ç–∏ –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω–∞—Ö –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö.
* –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–∞–º—è—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

---

## üìò –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã:

* Intel 64 and IA-32 Architectures Software Developer‚Äôs Manual ‚Äî —Ä–∞–∑–¥–µ–ª—ã –ø—Ä–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –ø–∞–º—è—Ç—å –∏ —Ç–∞–±–ª–∏—Ü—ã —Å—Ç—Ä–∞–Ω–∏—Ü
* –ö–Ω–∏–≥–∞ ‚ÄúOperating Systems: Three Easy Pieces‚Äù ‚Äî –≥–ª–∞–≤–∞ –ø—Ä–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é
* –°—Ç–∞—Ç—å–∏ –ø–æ ASLR, DEP, SMEP/SMAP –Ω–∞ OSDev Wiki
* –û–±–∑–æ—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∑–∞—â–∏—Ç—ã –ø–∞–º—è—Ç–∏ 2024‚Äì2025 –≥–æ–¥–æ–≤

---

## üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã:

* –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã —Å—Ç—Ä–∞–Ω–∏—Ü
* –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞—â–∏—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü —Å NX-bit
* –û–±—Ä–∞–±–æ—Ç–∫–∞ page fault –≤ –û–°
* –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã ASLR (–ø—Ä–æ—Å—Ç–µ–π—à–∏–π —Ä–∞–Ω–¥–æ–º–∏–∑–∞—Ç–æ—Ä –∞–¥—Ä–µ—Å–æ–≤)

---

## üíª –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –Ω–∞ –°–∏23:

```c
#include <stdint.h>

#define PAGE_SIZE 4096
#define PAGE_ENTRIES 512

typedef uint64_t page_entry_t;

typedef struct {
    page_entry_t entries[PAGE_ENTRIES];
} page_table_t;

page_table_t pml4 __attribute__((aligned(PAGE_SIZE)));

void map_page(page_table_t* table, uint64_t virt_addr, uint64_t phys_addr, uint64_t flags) {
    int pml4_index = (virt_addr >> 39) & 0x1FF;
    // –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã: –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü
    table->entries[pml4_index] = phys_addr | flags | 1; // Present
}

void init_paging() {
    // –û—á–∏—Å—Ç–∫–∞ —Ç–∞–±–ª–∏—Ü—ã
    for (int i = 0; i < PAGE_ENTRIES; i++) {
        pml4.entries[i] = 0;
    }

    // –ü—Ä–∏–º–µ—Ä –º–∞–ø–ø–∏–Ω–≥–∞: –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å 0x400000 -> —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π 0x100000
    map_page(&pml4, 0x400000, 0x100000, 0x3); // RW
}
```

---

## üß† –£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏: 9/10

---

## ‚è± –í—Ä–µ–º—è –Ω–∞ –∏–∑—É—á–µ–Ω–∏–µ: 9 —á–∞—Å–æ–≤

* –¢–µ–æ—Ä–∏—è: 6 —á
* –ü—Ä–∞–∫—Ç–∏–∫–∞: 3 —á

---

## üßë‚Äçüè´ –ú–µ—Ç–æ–¥–∏–∫–∞:

* –õ–µ–∫—Ü–∏—è —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º —Ä–∞–∑–±–æ—Ä–æ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ø–∞–º—è—Ç–∏ –∏ —Ç–∞–±–ª–∏—Ü —Å—Ç—Ä–∞–Ω–∏—Ü
* –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏ –∞–¥—Ä–µ—Å–æ–≤
* –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞: —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑–æ–≤–æ–≥–æ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –º–∞–ø–ø–∏–Ω–≥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü
* –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ: —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–µ–π—à–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ page fault

---

üî• –ì–æ—Ç–æ–≤ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å? –ù–∞–ø–∏—à–∏ **–¥–∞**!
