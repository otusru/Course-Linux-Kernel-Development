## Часть 81: Работа с eBPF (Extended Berkeley Packet Filter)

**Рекомендуемое время:** 7 часов

### Темы:

* Введение в eBPF: архитектура и возможности
* eBPF программы и загрузка в ядро
* Применение eBPF для мониторинга и трассировки
* Использование BPF maps для хранения данных
* Безопасность и ограничения eBPF
* Инструменты для работы с eBPF (bpftool, bpftrace)

### Лабораторные задания:

* Написать простую eBPF-программу для мониторинга системных вызовов
* Использовать bpftool для загрузки и управления eBPF-программами
* Создать BPF map для хранения статистики
* Написать скрипт на bpftrace для трассировки событий ядра
* Проанализировать собранные данные

### Чек-лист:

* [ ] Написана и загружена eBPF-программа
* [ ] Использован bpftool для управления
* [ ] Создана BPF map
* [ ] Использован bpftrace для трассировки
* [ ] Выполнен анализ данных

---

## Часть 82: Создание и загрузка eBPF-программ

**Рекомендуемое время:** 6 часов

### Темы:

* Пишем eBPF на C с использованием LLVM
* Загрузка eBPF программ через системные вызовы
* Поддержка eBPF в разных версиях ядра
* Тестирование и отладка eBPF программ
* Примеры использования: фильтрация пакетов, сбор метрик

### Лабораторные задания:

* Создать eBPF-программу на C, скомпилировать с LLVM
* Загрузить программу в ядро через bpf() syscall
* Отладить программу с помощью tracepoints и perf
* Реализовать фильтр пакетов с eBPF
* Подготовить отчет по работе программы

### Чек-лист:

* [ ] Скомпилирована eBPF программа
* [ ] Загружена в ядро
* [ ] Выполнена отладка
* [ ] Реализован фильтр пакетов
* [ ] Подготовлен отчет

---

## Часть 83: Использование eBPF для трассировки ядра (bpftrace, perf)

**Рекомендуемое время:** 6 часов

### Темы:

* Основы трассировки с bpftrace
* Сценарии и синтаксис bpftrace
* Интеграция perf с eBPF
* Сбор и анализ статистики с помощью eBPF
* Использование uprobes и kprobes
* Практические кейсы трассировки

### Лабораторные задания:

* Написать bpftrace скрипт для мониторинга системных вызовов
* Использовать perf для сбора данных eBPF
* Создать uprobe для отслеживания пользовательских функций
* Реализовать kprobe для мониторинга ядровых функций
* Подготовить отчет по трассировке

### Чек-лист:

* [ ] Написан bpftrace скрипт
* [ ] Использован perf с eBPF
* [ ] Создан uprobe и kprobe
* [ ] Собрана статистика
* [ ] Подготовлен отчет

---

## Часть 84: Control Groups (cgroups) v1 и v2

**Рекомендуемое время:** 7 часов

### Темы:

* Архитектура cgroups v1 vs v2
* Настройка и управление cgroups
* Ограничение ресурсов с помощью cgroups
* Интеграция cgroups с systemd и контейнерами
* Мониторинг cgroups
* Практические сценарии управления ресурсами

### Лабораторные задания:

* Создать и настроить cgroups v2 для ограничения CPU и памяти
* Исследовать разницу поведения cgroups v1 и v2
* Интегрировать cgroups с systemd юнитами
* Проанализировать использование ресурсов
* Подготовить рекомендации по управлению

### Чек-лист:

* [ ] Созданы cgroups v1 и v2
* [ ] Ограничены ресурсы процессов
* [ ] Интегрированы с systemd
* [ ] Проанализировано использование ресурсов
* [ ] Подготовлены рекомендации

---

## Часть 85: Namespaces: mount, pid, net, ipc, user, uts

**Рекомендуемое время:** 6 часов

### Темы:

* Обзор и назначение каждого namespace
* Изоляция процессов с помощью namespaces
* Практическое использование для контейнеризации
* Управление namespace программно и через утилиты
* Взаимодействие namespaces
* Ограничения и особенности

### Лабораторные задания:

* Создать процессы с изоляцией в разных namespaces
* Смоделировать сетевую изоляцию с net namespace
* Использовать user namespaces для привилегий
* Проанализировать взаимодействие namespaces
* Подготовить отчет

### Чек-лист:

* [ ] Изолированы процессы в namespaces
* [ ] Смоделирована сетевая изоляция
* [ ] Использованы user namespaces
* [ ] Проанализировано взаимодействие
* [ ] Подготовлен отчет

---

## Часть 86: Контейнеры и взаимодействие с ядром (LXC, Docker)

**Рекомендуемое время:** 7 часов

### Темы:

* Архитектура контейнеров и связь с ядром
* Использование namespaces и cgroups в контейнерах
* Работа с LXC и Docker
* Ограничения безопасности контейнеров
* Мониторинг и отладка контейнеров
* Влияние на производительность

### Лабораторные задания:

* Установить и настроить LXC контейнер
* Запустить Docker контейнер с ограничениями ресурсов
* Проанализировать использование namespaces и cgroups в контейнерах
* Провести отладку производительности контейнеров
* Подготовить отчет

### Чек-лист:

* [ ] Настроен LXC контейнер
* [ ] Запущен Docker контейнер
* [ ] Проанализированы namespaces и cgroups
* [ ] Проведена отладка производительности
* [ ] Подготовлен отчет

---

## Часть 87: Подсистема аудита ядра (auditd)

**Рекомендуемое время:** 6 часов

### Темы:

* Введение в auditd и его компоненты
* Настройка правил аудита ядра
* Анализ и фильтрация аудиозаписей
* Интеграция с системами SIEM
* Практические кейсы аудита безопасности
* Мониторинг и отчетность

### Лабораторные задания:

* Настроить auditd с базовыми правилами
* Создать правила аудита системных вызовов
* Проанализировать логи и выявить подозрительные действия
* Интегрировать auditd с внешними системами
* Подготовить отчет по аудиту

### Чек-лист:

* [ ] Настроен auditd
* [ ] Созданы правила аудита
* [ ] Проанализированы логи
* [ ] Интегрирована внешняя система
* [ ] Подготовлен отчет

---

## Часть 88: Live patching ядра: kpatch, kgraft

**Рекомендуемое время:** 6 часов

### Темы:

* Основы live patching и его важность
* Сравнение kpatch и kgraft
* Процесс создания и применения live patch
* Ограничения и безопасность
* Инструменты тестирования патчей
* Реальные сценарии использования

### Лабораторные задания:

* Установить kpatch
* Создать простой live patch для ядра
* Применить и снять патч без перезагрузки
* Провести тестирование стабильности
* Подготовить отчет

### Чек-лист:

* [ ] Установлен kpatch
* [ ] Создан live patch
* [ ] Применен патч в работу
* [ ] Проведено тестирование
* [ ] Подготовлен отчет

---

## Часть 89: Инструменты анализа ядра: ftrace, perf, kdump

**Рекомендуемое время:** 7 часов

### Темы:

* Работа с ftrace для трассировки событий
* Использование perf для профилирования
* Настройка и использование kdump для аварийных дампов
* Анализ дампов и устранение сбоев
* Практическое применение инструментов
* Интеграция с системами мониторинга

### Лабораторные задания:

* Запустить ftrace для мониторинга системных событий
* Использовать perf для сбора статистики
* Настроить kdump и создать дамп ядра
* Проанализировать дамп для выявления причины сбоя
* Подготовить отчет

### Чек-лист:

* [ ] Использован
* [ ] Использован perf
* [ ] Настроен kdump
* [ ] Проанализирован дамп
* [ ] Подготовлен отчет

---

## Часть 90: Трассировка системных вызовов и событий ядра

**Рекомендуемое время:** 6 часов

### Темы:

* Инструменты трассировки: strace, ltrace, perf
* Использование kprobes и uprobes
* Трассировка пользовательских и ядровых функций
* Автоматизация трассировки
* Анализ системных вызовов в реальном времени
* Оптимизация на основе трассировки

### Лабораторные задания:

* Использовать strace для анализа работы приложений
* Установить kprobe для ядровой функции
* Настроить автоматическую трассировку событий
* Проанализировать трассы и выявить узкие места
* Подготовить отчет

### Чек-лист:

* [ ] Использован strace и perf
* [ ] Настроены kprobes и uprobes
* [ ] Реализована автоматизация
* [ ] Проанализированы трассы
* [ ] Подготовлен отчет
