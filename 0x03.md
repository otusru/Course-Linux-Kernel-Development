## Часть 21: Введение в контейнеры и namespaces

**Рекомендуемое время:** 7 часов

### Темы:

* Основы контейнеризации и виртуализации на уровне ядра
* Пространства имён (namespaces): pid, net, ipc, mount, uts, user
* Изоляция процессов с помощью namespaces
* Создание и управление контейнерами в Linux
* Инструменты работы с namespaces (unshare, nsenter)
* Взаимодействие контейнеров с ядром

### Лабораторные задания:

* Использовать unshare для запуска процессов в отдельных namespace
* Исследовать содержимое /proc в разных namespaces
* Создать и запустить контейнер с минимальными настройками namespaces
* Проанализировать влияние namespaces на процессы и сеть
* Написать скрипт для автоматизации создания изолированных процессов

### Чек-лист:

* [ ] Поняты основы namespaces и контейнеров
* [ ] Использованы утилиты unshare и nsenter
* [ ] Создан и запущен контейнер с изоляцией namespaces
* [ ] Изучено влияние namespaces на процессы
* [ ] Автоматизирована работа с изолированными процессами

---

## Часть 22: Продвинутые возможности cgroups

**Рекомендуемое время:** 7 часов

### Темы:

* Архитектура cgroups v1 и v2
* Контроль ресурсов: CPU, память, IO
* Создание и управление cgroups
* Ограничение и мониторинг ресурсов для процессов
* Интеграция cgroups с systemd и контейнерами
* Использование cgroups в реальных сценариях

### Лабораторные задания:

* Создать cgroup и ограничить потребление CPU для группы процессов
* Настроить ограничения памяти и проверить их соблюдение
* Использовать инструменты мониторинга (cgget, cgset)
* Интегрировать cgroups с systemd unit
* Провести тесты на ограничение IO для cgroups

### Чек-лист:

* [ ] Понять архитектуру и функционал cgroups
* [ ] Настроены ограничения ресурсов для процессов
* [ ] Использованы утилиты управления и мониторинга cgroups
* [ ] Интегрированы cgroups с systemd
* [ ] Проведено тестирование ограничений ресурсов

---

## Часть 23: Управление пользователями и правами в ядре

**Рекомендуемое время:** 6 часов

### Темы:

* Модель безопасности пользователей в Linux
* Идентификаторы пользователей и групп (UID, GID)
* Capability (возможности) ядра Linux
* Применение security modules для контроля прав
* Работа с контекстами безопасности в пространстве ядра
* Контроль доступа к ресурсам ядра

### Лабораторные задания:

* Изучить и вывести текущие capabilities процессов
* Настроить ограничение capabilities для запускаемых процессов
* Использовать SELinux/AppArmor для контроля доступа
* Проанализировать права доступа к устройствам в /dev
* Написать скрипт для проверки и модификации capabilities

### Чек-лист:

* [ ] Понять модель безопасности пользователей и capabilities
* [ ] Настроены права и ограничения для процессов
* [ ] Использованы средства контроля доступа SELinux/AppArmor
* [ ] Проанализированы права на устройства ядра
* [ ] Автоматизирована проверка и настройка capabilities

---

## Часть 24: Работа с системными вызовами

**Рекомендуемое время:** 7 часов

### Темы:

* Архитектура системных вызовов в Linux
* Регистрация новых системных вызовов
* Модификация и расширение существующих вызовов
* Обработка аргументов и возвращаемых значений
* Безопасность и проверка входных данных
* Отладка системных вызовов

### Лабораторные задания:

* Реализовать и зарегистрировать новый системный вызов
* Изменить существующий вызов с добавлением новых функций
* Написать пользовательское приложение для вызова новых системных функций
* Проанализировать безопасность и обработку ошибок
* Использовать отладчик для тестирования системных вызовов

### Чек-лист:

* [ ] Создан и зарегистрирован новый системный вызов
* [ ] Модифицирован существующий системный вызов
* [ ] Написано приложение для взаимодействия с системными вызовами
* [ ] Обеспечена безопасность обработки данных
* [ ] Использована отладка системных вызовов

---

## Часть 25: Реализация межпроцессного взаимодействия (IPC)

**Рекомендуемое время:** 7 часов

### Темы:

* Механизмы IPC в Linux: очереди сообщений, семафоры, shared memory
* Системные вызовы для IPC
* Реализация новых механизмов IPC в ядре
* Синхронизация при использовании IPC
* Обеспечение безопасности IPC
* Использование IPC в реальных приложениях

### Лабораторные задания:

* Исследовать стандартные IPC-механизмы через /proc и ipcs
* Написать модуль с реализацией нового метода IPC
* Реализовать синхронизацию при обмене данными
* Написать приложение, использующее новый IPC механизм
* Проанализировать безопасность и ограничения IPC

### Чек-лист:

* [ ] Понять стандартные механизмы IPC
* [ ] Реализован новый механизм IPC в ядре
* [ ] Обеспечена синхронизация и безопасность
* [ ] Написано пользовательское приложение для IPC
* [ ] Проведен анализ работы и ограничений IPC

---

## Часть 26: Разработка и оптимизация драйверов USB

**Рекомендуемое время:** 8 часов

### Темы:

* Архитектура USB в Linux ядре
* Структуры данных и интерфейсы USB драйверов
* Регистрация и управление USB устройствами
* Обработка USB запросов и передач данных
* Отладка и тестирование USB драйверов
* Оптимизация производительности

### Лабораторные задания:

* Исследовать драйверы USB в ядре
* Написать простой драйвер для USB устройства
* Обработать стандартные USB запросы и передачу данных
* Использовать usbmon и wireshark для анализа USB трафика
* Оптимизировать драйвер для повышения производительности

### Чек-лист:

* [ ] Изучена архитектура USB драйверов
* [ ] Создан и протестирован USB драйвер
* [ ] Обработаны USB запросы и данные
* [ ] Использованы инструменты анализа USB трафика
* [ ] Проведена оптимизация драйвера

---

## Часть 27: Управление файловыми системами расширенного уровня

**Рекомендуемое время:** 8 часов

### Темы:

* Расширенные файловые системы: ext4, XFS, Btrfs
* Механизмы журналирования и восстановления
* Управление квотами пользователей
* Поддержка снапшотов и резервного копирования
* Производительность и оптимизация файловых систем
* Интеграция с VFS и драйверами устройств

### Лабораторные задания:

* Исследовать структуру ext4 и XFS через исходники ядра
* Настроить и протестировать квоты для пользователей
* Создать снапшоты и восстановить данные
* Проанализировать производительность файловых систем
* Написать отчёт по оптимизации и рекомендациям

### Чек-лист:

* [ ] Изучены расширенные файловые системы
* [ ] Настроены и протестированы квоты
* [ ] Созданы и использованы снапшоты
* [ ] Проведен анализ производительности
* [ ] Подготовлен отчёт по оптимизации

---

## Часть 28: Продвинутые методы трассировки ядра

**Рекомендуемое время:** 7 часов

### Темы:

* Использование eBPF для трассировки и мониторинга
* Работа с ftrace и SystemTap
* Создание кастомных трассировочных программ
* Анализ производительности и выявление узких мест
* Сбор статистики и логов в реальном времени
* Визуализация данных трассировки

### Лабораторные задания:

* Написать eBPF-программу для мониторинга системных вызовов
* Использовать ftrace для анализа работы драйвера
* Создать скрипт SystemTap для сбора статистики
* Проанализировать полученные данные и выявить проблемы
* Визуализировать трассировочные данные с помощью bpftrace

### Чек-лист:

* [ ] Созданы и использованы eBPF-программы
* [ ] Использован ftrace и SystemTap
* [ ] Собрана и проанализирована статистика
* [ ] Выявлены узкие места и проблемы
* [ ] Визуализированы данные трассировки

---

## Часть 29: Разработка и внедрение патчей в ядро

**Рекомендуемое время:** 7 часов

### Темы:

* Правила разработки и подачи патчей
* Использование git и инструментария разработки ядра
* Написание качественных и читаемых патчей
* Процесс ревью и исправления замечаний
* Ведение истории изменений и управление ветками
* Участие в сообществе разработчиков

### Лабораторные задания:

* Настроить git для работы с ядром Linux
* Сделать небольшой патч и оформить его по стандарту
* Отправить патч на ревью (можно в локальной среде)
* Исправить замечания и повторно отправить патч
* Ознакомиться с историей изменений ядра и мейнтейнерами

### Чек-лист:

* [ ] Настроен git и окружение для работы с ядром
* [ ] Написан и оформлен патч согласно стандартам
* [ ] Прошел процесс ревью и внесены исправления
* [ ] Поняты принципы ведения истории и веток
* [ ] Ознакомлен с сообществом и процессами разработки

---

## Часть 30: Оптимизация производительности ядра

**Рекомендуемое время:** 8 часов

### Темы:

* Анализ производительности ядра
* Использование perf и других профилировщиков
* Оптимизация планирования и работы с памятью
* Минимизация задержек и повышение throughput
* Настройка параметров ядра для улучшения производительности
* Практические кейсы оптимизации

### Лабораторные задания:

* Провести профилирование системы с помощью perf
* Оптимизировать параметры планировщика и памяти
* Реализовать патч с улучшением производительности
* Провести сравнительный анализ до и после оптимизации
* Подготовить отчёт с рекомендациями и выводами

### Чек-лист:

* [ ] Проведено профилирование системы
* [ ] Оптимизированы ключевые параметры ядра
* [ ] Реализован и протестирован патч оптимизации
* [ ] Проведен сравнительный анализ
* [ ] Подготовлен подробный отчёт
